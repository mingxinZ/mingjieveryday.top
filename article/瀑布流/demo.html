<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        @font-face {
            font-family: "方正清刻本悦宋简体";
            src: url("../../fonts/方正清刻本悦宋简体.woff");
            src: url("../../fonts/方正清刻本悦宋简体.ttf") format("truetype"),
            url("../../fonts/方正清刻本悦宋简体.woff") format("woff"),
            url("../../fonts/方正清刻本悦宋简体.svg") format("svg");
        }
        h1 {
            font-family: "方正清刻本悦宋简体";
            text-align: center;
            margin-top: 60px;
            margin-bottom: 15px;
        }
        h2 {
            text-align: right;
        }
        .box {
            position: relative;
        }
        .item {
            width: 236px;
            margin: 15px;
            position: absolute;
            box-sizing: margin-box;
            transition: all 1.5s;
        }
        .item > img {
            border-radius: 15px;
            box-shadow:0px 15px 10px -15px #000;
            width: 100%;
        }
    </style>
    
   
</head>
<body>
    <h1>我们的时光</h1>
    <h2>
            <audio controls="controls" autoplay="autoplay" height="20" width="50">
                    <source src="friends.mp3" type="audio/mp3" />
                    <embed height="100" width="100" src="friends.mp3" />
                </audio>
    </h2>
    <div class="box">
        <div class="item"><img src="images/01.jpg"></div>
        <div class="item"><img src="images/02.jpg"></div>
        <div class="item"><img src="images/03.jpg"></div>
        <div class="item"><img src="images/04.jpg"></div>
        <div class="item"><img src="images/05.jpg"></div>
        <div class="item"><img src="images/06.jpg"></div>
        <div class="item"><img src="images/07.jpg"></div>
        <div class="item"><img src="images/08.jpg"></div>
        <div class="item"><img src="images/09.jpg"></div>
        <div class="item"><img src="images/10.jpg"></div>
        <div class="item"><img src="images/11.jpg"></div>
        <div class="item"><img src="images/12.jpg"></div>
        <div class="item"><img src="images/13.jpg"></div>
        <div class="item"><img src="images/14.jpg"></div>
        <div class="item"><img src="images/15.jpg"></div>
        <div class="item"><img src="images/16.jpg"></div>
        <div class="item"><img src="images/17.jpg"></div>
        <div class="item"><img src="images/18.jpg"></div>
        <div class="item"><img src="images/19.jpg"></div>
        <div class="item"><img src="images/20.jpg"></div>
        <div class="item"><img src="images/21.jpg"></div>
        <div class="item"><img src="images/22.jpg"></div>
        <div class="item"><img src="images/23.jpg"></div>
        <div class="item"><img src="images/24.jpg"></div>
        <div class="item"><img src="images/25.jpg"></div>
        <div class="item"><img src="images/26.jpg"></div>
        <div class="item"><img src="images/27.jpg"></div>
        <div class="item"><img src="images/28.jpg"></div>
        <div class="item"><img src="images/29.jpg"></div>
        <div class="item"><img src="images/30.jpg"></div>
        <div class="item"><img src="images/31.jpg"></div>
        <div class="item"><img src="images/32.jpg"></div>
        <div class="item"><img src="images/33.jpg"></div>
        <div class="item"><img src="images/34.jpg"></div>
        <div class="item"><img src="images/35.jpg"></div>
        <div class="item"><img src="images/36.jpg"></div>
        <div class="item"><img src="images/37.jpg"></div>
        <div class="item"><img src="images/38.jpg"></div>
        <div class="item"><img src="images/39.jpg"></div>
        <div class="item"><img src="images/40.jpg"></div>
        <div class="item"><img src="images/41.jpg"></div>
        <div class="item"><img src="images/42.jpg"></div>
        <div class="item"><img src="images/43.jpg"></div>
        <div class="item"><img src="images/44.jpg"></div>
        <div class="item"><img src="images/45.jpg"></div>
        <div class="item"><img src="images/46.jpg"></div>
        <div class="item"><img src="images/47.jpg"></div>
        <div class="item"><img src="images/01.jpg"></div>
        <div class="item"><img src="images/02.jpg"></div>
        <div class="item"><img src="images/03.jpg"></div>
        <div class="item"><img src="images/04.jpg"></div>
        <div class="item"><img src="images/05.jpg"></div>
        <div class="item"><img src="images/06.jpg"></div>
        <div class="item"><img src="images/07.jpg"></div>
        <div class="item"><img src="images/08.jpg"></div>
        <div class="item"><img src="images/09.jpg"></div>
        <div class="item"><img src="images/10.jpg"></div>
        <div class="item"><img src="images/11.jpg"></div>
        <div class="item"><img src="images/12.jpg"></div>
        <div class="item"><img src="images/13.jpg"></div>
        <div class="item"><img src="images/14.jpg"></div>
        <div class="item"><img src="images/15.jpg"></div>
        <div class="item"><img src="images/16.jpg"></div>
        <div class="item"><img src="images/17.jpg"></div>
        <div class="item"><img src="images/18.jpg"></div>
        <div class="item"><img src="images/19.jpg"></div>
        <div class="item"><img src="images/20.jpg"></div>
        <div class="item"><img src="images/21.jpg"></div>
        <div class="item"><img src="images/22.jpg"></div>
        <div class="item"><img src="images/23.jpg"></div>
        <div class="item"><img src="images/24.jpg"></div>
        <div class="item"><img src="images/25.jpg"></div>
        <div class="item"><img src="images/26.jpg"></div>
        <div class="item"><img src="images/27.jpg"></div>
        <div class="item"><img src="images/28.jpg"></div>
        <div class="item"><img src="images/29.jpg"></div>
        <div class="item"><img src="images/30.jpg"></div>
        <div class="item"><img src="images/31.jpg"></div>
        <div class="item"><img src="images/32.jpg"></div>
        <div class="item"><img src="images/33.jpg"></div>
        <div class="item"><img src="images/34.jpg"></div>
        <div class="item"><img src="images/35.jpg"></div>
        <div class="item"><img src="images/36.jpg"></div>
        <div class="item"><img src="images/37.jpg"></div>
        <div class="item"><img src="images/38.jpg"></div>
        <div class="item"><img src="images/39.jpg"></div>
        <div class="item"><img src="images/40.jpg"></div>
        <div class="item"><img src="images/41.jpg"></div>
        <div class="item"><img src="images/42.jpg"></div>
        <div class="item"><img src="images/43.jpg"></div>
        <div class="item"><img src="images/44.jpg"></div>
        <div class="item"><img src="images/45.jpg"></div>
        <div class="item"><img src="images/46.jpg"></div>
        <div class="item"><img src="images/47.jpg"></div>
        <div class="item"><img src="images/01.jpg"></div>
        <div class="item"><img src="images/02.jpg"></div>
        <div class="item"><img src="images/03.jpg"></div>
        <div class="item"><img src="images/04.jpg"></div>
        <div class="item"><img src="images/05.jpg"></div>
        <div class="item"><img src="images/06.jpg"></div>
        <div class="item"><img src="images/07.jpg"></div>
        <div class="item"><img src="images/08.jpg"></div>
        <div class="item"><img src="images/09.jpg"></div>
        <div class="item"><img src="images/10.jpg"></div>
        <div class="item"><img src="images/11.jpg"></div>
        <div class="item"><img src="images/12.jpg"></div>
        <div class="item"><img src="images/13.jpg"></div>
        <div class="item"><img src="images/14.jpg"></div>
        <div class="item"><img src="images/15.jpg"></div>
        <div class="item"><img src="images/16.jpg"></div>
        <div class="item"><img src="images/17.jpg"></div>
        <div class="item"><img src="images/18.jpg"></div>
        <div class="item"><img src="images/19.jpg"></div>
        <div class="item"><img src="images/20.jpg"></div>
        <div class="item"><img src="images/21.jpg"></div>
        <div class="item"><img src="images/22.jpg"></div>
        <div class="item"><img src="images/23.jpg"></div>
        <div class="item"><img src="images/24.jpg"></div>
        <div class="item"><img src="images/25.jpg"></div>
        <div class="item"><img src="images/26.jpg"></div>
        <div class="item"><img src="images/27.jpg"></div>
        <div class="item"><img src="images/28.jpg"></div>
        <div class="item"><img src="images/29.jpg"></div>
        <div class="item"><img src="images/30.jpg"></div>
        <div class="item"><img src="images/31.jpg"></div>
        <div class="item"><img src="images/32.jpg"></div>
        <div class="item"><img src="images/33.jpg"></div>
        <div class="item"><img src="images/34.jpg"></div>
        <div class="item"><img src="images/35.jpg"></div>
        <div class="item"><img src="images/36.jpg"></div>
        <div class="item"><img src="images/37.jpg"></div>
        <div class="item"><img src="images/38.jpg"></div>
        <div class="item"><img src="images/39.jpg"></div>
        <div class="item"><img src="images/40.jpg"></div>
        <div class="item"><img src="images/41.jpg"></div>
        <div class="item"><img src="images/42.jpg"></div>
        <div class="item"><img src="images/43.jpg"></div>
        <div class="item"><img src="images/44.jpg"></div>
        <div class="item"><img src="images/45.jpg"></div>
        <div class="item"><img src="images/46.jpg"></div>
        <div class="item"><img src="images/47.jpg"></div>
        <div class="item"><img src="images/29.jpg"></div>
        <div class="item"><img src="images/30.jpg"></div>
        <div class="item"><img src="images/31.jpg"></div>
        <div class="item"><img src="images/32.jpg"></div>
        <div class="item"><img src="images/33.jpg"></div>
        <div class="item"><img src="images/34.jpg"></div>
    </div>
    <script>
        var box=document.getElementsByClassName("box")[0];
        var items=box.getElementsByClassName("item");
        var gap=15;
        window.onload=function(){
            waterFall();
            function waterFall(){
                var pageWid=getWindow().width;
            var itemWid=items[0].offsetWidth;
            var col=Math.floor(pageWid/(itemWid+gap));
            var arr=[];
            for(var i=0; i<items.length; i++){
                if(i<col){
                    items[i].style.top=0;
                    items[i].style.left=(itemWid+gap)*i+"px";
                    arr.push(items[i].offsetHeight);
                } else {
                    var minHei=arr[0];
                    var index=0;
                    for(var j=0; j<arr.length; j++){
                        if(minHei>arr[j]){
                            minHei=arr[j];
                            index=j;
                        }
                    }
                    items[i].style.top=arr[index]+gap+"px";
                    items[i].style.left=(itemWid+gap)*index+"px";
                    arr[index]=arr[index]+items[i].offsetHeight+gap;

                }
            }
            }
            window.onresize=function(){
            waterFall();

        };
        window.onscroll=function(){
            if(getWindow().height+getScroll()>items[items.length-1].offsetTop){
                var datas=[
                "images/30.jpg",
                "images/31.jpg",
                "images/32.jpg",
                "images/33.jpg",
                "images/34.jpg",
                "images/35.jpg",
                "images/36.jpg",
                "images/37.jpg",
                "images/38.jpg",
                "images/39.jpg",
                "images/40.jpg",
                "images/41.jpg",
                "images/42.jpg",
                "images/43.jpg",
                "images/44.jpg",
                "images/45.jpg",
                "images/46.jpg",
                "images/47.jpg",
                "images/01.jpg",
                "images/02.jpg",
                "images/03.jpg",
                "images/04.jpg",
                "images/05.jpg",
                "images/06.jpg",
                "images/07.jpg",
                "images/08.jpg",
                "images/09.jpg",
                "images/10.jpg",
                "images/11.jpg",
                "images/12.jpg",
                "images/13.jpg",
                "images/14.jpg",
                "images/15.jpg",
                "images/16.jpg",
                "images/17.jpg",
                "images/18.jpg",
                "images/19.jpg",
                "images/20.jpg",
                "images/21.jpg",
                "images/22.jpg",
                "images/23.jpg",
                "images/24.jpg",
                "images/25.jpg",
                "images/26.jpg",
                "images/27.jpg",
                "images/28.jpg",
                "images/29.jpg",
                "images/30.jpg",
                "images/31.jpg",
                "images/32.jpg",
                "images/33.jpg",
                "images/34.jpg",
                "images/35.jpg",
                "images/36.jpg",
                "images/37.jpg",
                "images/38.jpg",
                "images/39.jpg",
                "images/40.jpg",
                "images/41.jpg",
                "images/42.jpg",
                "images/43.jpg",
                "images/44.jpg",
                "images/45.jpg",
                "images/46.jpg",
                "images/47.jpg",
                "images/29.jpg",
                "images/30.jpg",
                "images/31.jpg",
                "images/32.jpg",
                "images/33.jpg",
                "images/34.jpg"
                ];
                for(var i=0; i<datas.length; i++){
                    var div=document.createElement("div");
                    div.className="item";
                    div.innerHTML="<img src="+datas[i]+"></img>";
                    box.appendChild(div);
                }
                waterFall();
            }
        };
            
        };
        function getWindow(){
            return {
                width: window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth,
                height: window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight
            }
        }
        function getScroll(){
            return window.pageYOffset||document.documentElement.scrollTop;
            
        }
       
    </script>
</body>
</html>